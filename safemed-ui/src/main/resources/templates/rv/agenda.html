
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <title>S@feMeD | Agenda</title>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
  
  <link rel="icon" href="../../../../safemedtheme/img/educa2.png" type="image/x-icon" th:href="@{/safemedtheme/img/safemed_logo.png}" />
  
  <link rel="stylesheet" href="../../../../safemedtheme/bootstrap/css/bootstrap.min.css" th:href="@{/safemedtheme/bootstrap/css/bootstrap.min.css}"/>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="../../../../safemedtheme/plugins/fontawesome/css/font-awesome.min.css" th:href="@{/safemedtheme/plugins/fontawesome/css/font-awesome.min.css}" />
  <!-- Ionicons -->
  <link rel="stylesheet" href="../../../../safemedtheme/plugins/ionicons/css/ionicons.min.css" th:href="@{/safemedtheme/plugins/ionicons/css/ionicons.min.css}" />
  <!-- Theme style -->
  <link rel="stylesheet" href="../../../../safemedtheme/dist/css/AdminLTE.min.css" th:href="@{/safemedtheme/dist/css/AdminLTE.min.css}"/>
  <link rel="stylesheet" href="../../../../safemedtheme/dist/css/skins/_all-skins.min.css" th:href="@{/safemedtheme/dist/css/skins/_all-skins.min.css}"/>
  <!-- iCheck -->
  <link rel="stylesheet" href="../../../../safemedtheme/plugins/iCheck/flat/blue.css" th:href="@{/safemedtheme/plugins/iCheck/flat/blue.css}"/>
  <!-- Date Picker -->
  <link rel="stylesheet" href="../../../../safemedtheme/plugins/datepicker/datepicker3.css" th:href="@{/safemedtheme/plugins/datepicker/datepicker3.css}"/>
  <!-- Daterange picker -->
  <link rel="stylesheet" href="../../../../safemedtheme/plugins/daterangepicker/daterangepicker.css" th:href="@{/safemedtheme/plugins/daterangepicker/daterangepicker.css}"/>
          <!-- FullCalendar -->
  <link href="../../../../safemedtheme/plugins/fullcalendar/fullcalendar.min.css" th:href="@{/safemedtheme/plugins/fullcalendar/fullcalendar.min.css}" rel="stylesheet"/>
 <link href="../../../../safemedtheme/plugins/fullcalendar/fullcalendar.print.css" th:href="@{/safemedtheme/plugins/fullcalendar/fullcalendar.print.css}" rel="stylesheet" media="print"/>
   <!-- iCheck -->
  <link rel="stylesheet" href="../../../../safemedtheme/plugins/iCheck/square/blue.css" th:href="@{/safemedtheme/plugins/iCheck/square/blue.css}"/>

</head>
<body class="hold-transition skin-black-light sidebar-mini fixed">
<div class="wrapper">

  <div th:replace="fragment/top :: header" th:remove="tag"></div>
  
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        <small>Agenda</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Accueil</a></li>
        <li><a href="#"> Rendez-vous</a></li>
        <li class="active">Agenda</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
	  <div class="row">
        <div class="col-md-3">
          <div class="box box-solid">
            <div class="box-header with-border">
              <h3 class="box-title">Agendas</h3>
            </div>
            <div class="box-body">
             <div class="checkbox icheck">
	            <label>
	              <input type="checkbox"/> Kocc Barma Fall
	            </label>
          	 </div>
          	 <div class="checkbox icheck">
	            <label>
	              <input type="checkbox"/> Olof Ndiaye
	            </label>
          	 </div>
          	 <div class="checkbox icheck">
	            <label>
	              <input type="checkbox"/> Mbotteu Sarr
	            </label>
          	 </div>
            </div>
            <div class="box-footer">
            	<button type="button" data-toggle="modal" data-target="#modalrv" class="btn btn-default pull-right"><i class="fa fa-plus"></i> Ajouter RV</button>
            </div>
          </div>
          <div class="box box-solid">
            <div class="box-header with-border">
              <h4 class="box-title">Liste disponibilit&eacute;s</h4>
            </div>
            <div class="box-body">
              <!-- the events -->
              <div id="external-events">
                <div class="external-event bg-green">Lunch</div>
                <div class="external-event bg-yellow">Go home</div>
                <div class="external-event bg-aqua">Do homework</div>
                <div class="external-event bg-light-blue">Work on UI design</div>
                <div class="external-event bg-red">Sleep tight</div>
                <div class="checkbox">
                  <label for="drop-remove">
                    <input type="checkbox" id="drop-remove"/>
                    remove after drop
                  </label>
                </div>
              </div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /. box -->
        </div>
        <!-- /.col -->
        <div class="col-md-9">
          <div class="box box-info">
            <div class="box-body no-padding">
              <!-- THE CALENDAR -->
              <div id="dme_agenda"></div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /. box -->
        </div>
        <!-- /.col -->
      </div>
    </section>
    <!-- /.content -->
  </div>
  <footer class="main-footer">
     <div th:replace="fragment/bottom :: footer" th:remove="tag"></div>
  </footer>
</div>
<div th:replace="rv/ajouter_rv :: nouveaurv"></div>
<!-- jQuery 2.2.3 -->
<script src="../../../../safemedtheme/plugins/jQuery/jquery-2.2.3.min.js" th:src="@{/safemedtheme/plugins/jQuery/jquery-2.2.3.min.js}"></script>
<!-- jQuery UI 1.11.4 -->
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button);
</script>
<!-- Bootstrap 3.3.6 -->
<script src="../../../../safemedtheme/bootstrap/js/bootstrap.min.js" th:src="@{/safemedtheme/bootstrap/js/bootstrap.min.js}"></script>
<!-- daterangepicker -->
<script src="../../../../safemedtheme/plugins/moment/moment.min.js" th:src="@{/safemedtheme/plugins/moment/moment.min.js}"></script>
<script src="../../../../safemedtheme/plugins/daterangepicker/daterangepicker.js" th:src="@{/safemedtheme/plugins/daterangepicker/daterangepicker.js}"></script>
<!-- datepicker -->
<script src="../../../../safemedtheme/plugins/datepicker/bootstrap-datepicker.js" th:src="@{/safemedtheme/plugins/datepicker/bootstrap-datepicker.js}"></script>
<!-- Slimscroll -->
<script src="../../../../safemedtheme/plugins/slimScroll/jquery.slimscroll.min.js" th:src="@{/safemedtheme/plugins/slimScroll/jquery.slimscroll.min.js}"></script>
<!-- AdminLTE App -->
<script src="../../../../safemedtheme/dist/js/app.min.js" th:src="@{/safemedtheme/dist/js/app.min.js}"></script>
<script src="../../../../safemedtheme/dist/js/pages/tableaudebord.js" th:src="@{/safemedtheme/dist/js/pages/tableaudebord.js}"></script>

<script src="../../../../safemedtheme/plugins/moment/moment.min.js" th:src="@{/safemedtheme/plugins/moment/moment.min.js}"></script>
<script src="../../../../safemedtheme/plugins/fullcalendar/fullcalendar.min.js" th:src="@{/safemedtheme/plugins/fullcalendar/fullcalendar.min.js}"></script>
<script src="../../../../safemedtheme/plugins/fullcalendar/locale/fr.js" th:src="@{/safemedtheme/plugins/fullcalendar/locale/fr.js}"></script>
<script src="../../../../safemedtheme/plugins/iCheck/icheck.min.js" th:src="@{/safemedtheme/plugins/iCheck/icheck.min.js}"></script>

   <script>
    function loadSeanceAjax(){
        if ($('#classeId').val() != '') {
            $.ajax({type: "POST",
              url: "afficherSeancesParClasse",
              data: $('#classeId').val(),
              contentType: 'text/plain',
              success: function(data) {
                $('#liste_seance').html(data),
                loadCalendar();
              }
            });
        }
    }
    
    function loadCalendar(){
        var calendar = $('#dme_agenda').fullCalendar({
            header: {
              left: 'prev,next today',
              center: 'title',
              right: 'month,agendaWeek,agendaDay'
            },
  		  defaultView: 'agendaWeek',
  		  allDaySlot: false,
            businessHours:{
               dow: [ 1, 2, 3, 4, 5, 6, 7],  
               start: '08:00', 
               end: '22:00'  
            },
            minTime: "06:00:00",                 
            maxTime: "23:00:00",   
            events: '/agenda/json/plages',
            timezone: 'local',
            eventClick: function(calEvent, jsEvent, view) {
                $('#fc_edit').click();
                $('#seance_titre').val(calEvent.title);

                $(".antosubmit2").on("click", function() {
                  calEvent.title = $("#seance_titre").val();

                  calendar.fullCalendar('updateEvent', calEvent);
                  $('.antoclose2').click();
                });

                calendar.fullCalendar('unselect');
              }
          });
    }
      $(window).load(function() {
          var calendar = $('#dme_agenda').fullCalendar({
              header: {
                left: 'prev,next today',
                center: 'title',
                right: 'month,agendaWeek,agendaDay'
              },
    		  defaultView: 'agendaWeek',
    		  allDaySlot: false,
              businessHours:{
                 dow: [0, 1, 2, 3, 4, 5, 6],  
                 start: '07:00', 
                 end: '23:00'  
              },
              minTime: "06:00:00",                 
              maxTime: "23:00:00",   
              events: '/agenda/json/plages',
              timezone: 'local',
              eventClick: function(calEvent, jsEvent, view) {
                  $('#fc_edit').click();
                  $('#seance_titre').val(calEvent.title);

                  $(".antosubmit2").on("click", function() {
                    calEvent.title = $("#seance_titre").val();

                    calendar.fullCalendar('updateEvent', calEvent);
                    $('.antoclose2').click();
                  });

                  calendar.fullCalendar('unselect');
                }
            });
          $('input').iCheck({
              checkboxClass: 'icheckbox_square-blue',
              radioClass: 'iradio_square-blue',
              increaseArea: '20%' // optional
            });
      });
    </script>
</body>
</html>
